class ActsAsSubscriptionOnMigration < ActiveRecord::Migration<%= migration_version %> 
  def self.up 
    create_table :subscriptions do |t| 
      t.references :topic, polymorphic: true 
      t.references :subscriber, polymorphic: true 
      t.references :activity, polymorphic: true 
      t.boolean :is_topic_owner, null: false, default: true 
      t.string :action 
      t.timestamps 
    end 
  end

  def self.down
    drop_table :subscriptions
  end
end